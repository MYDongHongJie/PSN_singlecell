## ========================= Project information =========================
report:
  Project_Num: HT2021-test  #项目编号
  Task_Num: DOExxx-bx       #任务单号，如需自动生成obs链接，请将批次号填写完整，如DOE202388888-b1
  Customer:                 #客户姓名
  Sales:                    #销售姓名
  Library: 单细胞 3’ 转录组                   ##如果是5’建库项目，请填写 "5’转录组测序".如果为核项目单细胞（核）3’ 转录组
  Executor: OEXXXX          #执行人员编号
  Species: 人-组织          #实验物种
  Sample_Num:               #样本数目
  Others: 3' scRNA          #如果是5’建库项目，请填写 "5' scRNA"。Please fill in "5' scRNA" if the project is 5′-end scRNA-seq.
  Reference:                #参考基因组路径，以下两行为人小鼠的最新版本路径
  #Reference: /data/database/cellranger-refdata/refdata-gex-GRCh38-2020-A # Lastest human ref
  #Reference: /data/database/cellranger-refdata/refdata-gex-mm10-2020-A # Lastest mouse ref

  # Project_Path:
  # Project_Start_Time:
  # Project_End_Time:
  # Data_Cleaning_Time:

## ========================= Email feedback =========================
email:
  emailto:
    - ""    # 质控反馈邮件收件人，填写自己的邮箱，可留空，将自动寻找CLOUDUSER环境变量。
  Project_management: "朱卉" # 项目部责任人
  Laboratory: "毕远芝经理" # 实验部门负责人

## ========================= Cellranger parameters =========================
cellranger_params:
  module:
    cellranger: true
    upload_bam: true # 是否把bam上传到scrna@10.100.10.69，默认true (默认生成bam文件)
    cellranger_upload: False # 是否上传并覆盖scrna@10.100.10.69节点的质控结果
    cellranger_report: False # 是否生成cellranger报告，默认不出，只质控不分析项目选择True
  envmodules: "cellRanger/7.0.1" # v5:cellRanger/5.0.0 v7:cellRanger/7.0.1
  generate_bam: true # 是否生成bam文件，默认true
  include_introns: true  #默认均使用 true
  raw_data_obs_address: #可以列表形式填写多行，路径需要以'/'结尾。填写 - "" 则根据任务单号自动生成obs链接。
    - ""
  samples: all #用法1. 填写all 自动从raw_data_obs_address 获取所有样本名。
  #samples:    #用法2. 指定样本名。
  # - S1
  # - S2
  #samples:    #用法3. 指定样本名以及force-cells数量。注：方法2和方法3不可混用。
  # - S1: 5000
  Number_of_Reads: "350M" # 样本要求数据量，查看 OA 下单信息。

## ========================= Report parameters =========================
report_params:
  module:
    cellranger_aggr: false
    Force_cell_check: false
    create: false
    qc: false
    clustering: false
    marker: false
    celltyping: false
    diffexp: false
    report: false
    report_upload: false
  envmodules: "OESingleCell/3.0.d"
  samples_file: "config/samples.csv"
  libraries_file: "config/libraries.csv"
  diffexp_file: "config/diffexp.tsv"
  #ngene_numi_fold2sd: 2
  cut1: "median"  #可选median(中位数)，mean(平均值)
  cut2: "mad"     #可选median(中位数)、sd(标准差)或mad(绝对中位差)
  log10GenesPerUMI: 0.7  #最小值
  percent_mito: NULL # NULL: 自动判断
  percent_HB: 0.05
  rmdoublets: TRUE
  rmdoublets_methods: DoubletFinder
  roboust_linear_model: NULL #根据拟合线性模型处理离域值。例如nCount_RNA:nFeature_RNA;默认值：NULL
  reduct1: "pca"
  reduct2: "umap"
  resolution: 0.4
  pointsize: 0.5 # NULL：自动判断
  marker_test: "presto"
  diffexp_test: "presto"
  celltypingdb: "hpca" # Human: hpca/blueprint_encode/schcl # Mouse: immgen/mouse.rnaseq/scmca

#========================================subtyping setting ==============================================================
subtype:
  module: 
    clustering: false
    find_marker: false
    celltypeing: false
    diff_gene: false
  robj: result/Count_QC/filtered.h5seurat
  sub_file: config/sub.tsv
  reduct1: pca
  reduct2: umap

#========================================cpu setting ==============================================================
cpu:
  # cellranger
  data_prepare: 1
  cellranger: 10
  fastqc_check: 8
  bam_prepare: 1
  bam_upload: 1
  # report
  cellranger_aggr: 8
  sctools_create: 6
  qc: 10
  clustering_bclust: 10
  clustering_summarize: 6
  clustering_coefficient: 6
  marker_findallmarkers: 10
  marker_heatmap: 10
  marker_visualize: 6
  celltyping: 6
  diffexp: 10
  diffexp_heatmap: 10
  convert: 2
  report: 1
  report_upload: 1
  report_sor: 1
  marker_annotation: 1
  diffexp_annotation: 1
  diffexp_enrich: 1
  diffexp_ppi: 1
  diffexp_fc12: 10
