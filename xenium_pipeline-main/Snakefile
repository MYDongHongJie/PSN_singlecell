import os
# The main entry point of workflow.
# After configuring, running snakemake -n in a clone of this repository should successfully execute a dry-run of the workflow.
## 控制整体目标文件========================================================================================================
include: "rules/0.common.smk" # 定义了提取后续分析结果的函数；定义了各个分析部分是否进行的条件
## 控制整体目标文件========================================================================================================
if config["module"]["Xenium"]:
    include: "rules/1.xenium.smk"
## 对象创建==============================================================================================================
if config["module"]["Create"]:
    include: "rules/2.create.smk"
## 质控与标准化===========================================================================================================
if config["module"]["QC"]:
    include: "rules/3.qc.smk"
## 降维聚类==============================================================================================================
if config["module"]["Clustering"]:
    include: "rules/4.clusters.smk"
## 细胞类型鉴定===========================================================================================================
if config["module"]["Celltype"]:
    include: "rules/6.celltype.smk"
## 特征基因查找===========================================================================================================
if config["module"]["Marker"]:
    include: "rules/5.marker.smk"
## 报告出具======================================================================================================
if config["module"]["Report"]:
    include: "rules/7.report.smk"
##======================================================================================================================
##======================================================================================================================
if config["module"]["Report"]:
    rule all:
        input:
            all_input,
            report_input
else:
    rule all:
        input:
            all_input

